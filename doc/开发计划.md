# 情绪守护小程序开发计划

## 项目概述
为中老年用户设计的认知照顾情绪监测系统，提供语音辅助阅读、AI客服、健康科普、认知测试等功能。

## 开发原则
- **脚踏实地**：优先实现核心功能，避免过度设计
- **渐进式开发**：分阶段推进，每阶段都有可用成果
- **用户体验优先**：针对中老年用户优化交互设计
- **技术可行性**：选择成熟稳定的技术方案

## 第一阶段：核心功能验证（1-2周）

### 1.1 语音辅助阅读系统
**目标**：实现基础TTS功能，验证技术可行性
- ✅ 已完成：TTS管理器 (`miniprogram/utils/tts.js`)
- ✅ 已完成：语音辅助组件 (`miniprogram/components/voice-assist/`)
- 🔄 进行中：TTS测试页面开发
- 📋 待完成：集成到现有页面

**技术要点**：
- 微信小程序内置语音合成API
- 降级方案：后端TTS服务
- 用户偏好存储与恢复

### 1.2 AI智能客服原型
**目标**：搭建基础对话框架
- 📋 待完成：客服页面UI设计
- 📋 待完成：DeepSeek/豆包API对接
- 📋 待完成：语音输入功能
- 📋 待完成：语音播报集成

### 1.3 微信TTS测试验证
**目标**：验证微信TTS功能可行性
- 🔄 开发中：TTS测试页面
- 📋 待完成：功能测试报告
- 📋 待完成：兼容性验证

## 第二阶段：基础功能完善（2-3周）

### 2.1 健康科普内容管理
**目标**：实现内容上传与展示
- 📋 待完成：视频上传功能
- 📋 待完成：内容列表展示
- 📋 待完成：互动功能（点赞、收藏、分享）
- 📋 待完成：语音播报集成

### 2.2 认知测试系统优化
**目标**：完善测试流程与报告
- 📋 待完成：AI报告生成功能
- 📋 待完成：报告语音播报
- 📋 待完成：测试结果可视化

### 2.3 用户界面优化
**目标**：适配中老年用户
- 📋 待完成：字体大小调节
- 📋 待完成：触控区域优化
- 📋 待完成：对比度增强

## 第三阶段：高级功能实现（3-4周）

### 3.1 智能提醒系统
**目标**：实现定时提醒功能
- 📋 待完成：早晚定时弹窗
- 📋 待完成：超时提醒机制
- 📋 待完成：状态颜色变化

### 3.2 数据可视化
**目标**：展示健康趋势
- 📋 待完成：心率、血氧数据接入
- 📋 待完成：趋势图表展示
- 📋 待完成：时间维度切换

### 3.3 人工客服系统
**目标**：完善客服体验
- 📋 待完成：转人工功能
- 📋 待完成：等待提示
- 📋 待完成：管理端通知

## 第四阶段：系统集成与测试（1-2周）

### 4.1 系统集成
**目标**：各模块协同工作
- 📋 待完成：全局状态管理
- 📋 待完成：数据一致性保证
- 📋 待完成：错误处理机制

### 4.2 用户测试
**目标**：收集反馈优化
- 📋 待完成：测试用例设计
- 📋 待完成：用户反馈收集
- 📋 待完成：问题修复

## 技术架构

### 前端技术栈
- **框架**：微信小程序原生开发
- **组件化**：自定义组件 + Vant Weapp
- **状态管理**：小程序原生 + 本地存储
- **语音技术**：微信内置TTS + 后端TTS服务

### 后端技术栈
- **框架**：Django + Django REST Framework
- **数据库**：PostgreSQL
- **AI服务**：DeepSeek API / 豆包API
- **部署**：Docker + Nginx

### 关键技术点
1. **语音合成**：微信TTS优先，后端TTS兜底
2. **语音识别**：微信语音识别API
3. **AI对话**：第三方大模型API
4. **数据安全**：JWT认证 + 权限控制

## 风险控制

### 技术风险
- **微信TTS限制**：准备后端TTS降级方案
- **API稳定性**：设置超时重试机制
- **兼容性问题**：多设备测试验证

### 进度风险
- **功能复杂度**：按优先级渐进实现
- **外部依赖**：提前验证第三方服务
- **用户反馈**：预留优化时间

## 当前进度

### 已完成 ✅
1. 语音辅助组件框架
2. TTS管理器工具类
3. 项目基础架构

### 进行中 🔄
1. 微信TTS测试页面
2. 功能可行性验证

### 下一步计划 📋
1. 完成TTS测试页面开发
2. 集成语音组件到首页
3. 开始AI客服原型开发

## 开发规范

### 代码规范
- 使用ES6+语法
- 组件化开发
- 完善的注释文档
- 错误处理机制

### UI规范
- 大字体设计（基础32rpx）
- 高对比度配色
- 大触控区域（最小120rpx）
- 简洁的操作流程

### 测试规范
- 单元测试覆盖核心功能
- 集成测试验证流程
- 用户测试收集反馈
- 兼容性测试多设备

---

**最后更新**：2025年1月5日  
**版本**：v1.0  
**负责人**：开发团队