<!-- 智能测评结果页面 - 极简设计 -->
<view class="container">
  <!-- 加载状态 -->
  <view wx:if="{{loading}}" class="loading-container">
    <view class="loading-text">正在加载测评结果...</view>
  </view>

  <!-- 错误状态 -->
  <view wx:elif="{{errorMessage}}" class="error-container">
    <view class="error-message">{{errorMessage}}</view>
    <button wx:if="{{canRetry}}" class="retry-btn" bindtap="reload">重试</button>
    <button class="home-btn" bindtap="backToHome">返回首页</button>
  </view>

  <!-- 结果内容 -->
  <view wx:else class="result-container">
    <!-- 总体结论 -->
    <view class="summary-section">
      <view class="summary-title">测评结论</view>
      <view class="conclusion">{{assessmentResult.final_result.conclusion}}</view>
      <view class="risk-level" wx:if="{{assessmentResult.final_result.risk_level}}">
        风险等级：{{assessmentResult.final_result.risk_level}}
      </view>
    </view>

    <!-- 量表结果摘要 -->
    <view class="scales-section" wx:if="{{assessmentResult.results.length > 0}}">
      <view class="section-title">量表结果</view>
      <view class="scale-list">
        <view class="scale-item" wx:for="{{assessmentResult.results}}" wx:key="id">
          <view class="scale-name">{{item.scale_name}}</view>
          <view class="scale-score">得分：{{item.score || 'N/A'}}</view>
          <view class="scale-level">等级：{{item.level || 'N/A'}}</view>
          <view class="scale-status" wx:if="{{item.is_abnormal}}">异常</view>
        </view>
      </view>
    </view>

    <!-- 建议 -->
    <view class="recommendations-section" wx:if="{{assessmentResult.final_result.recommendations && assessmentResult.final_result.recommendations.length > 0}}">
      <view class="section-title">建议</view>
      <view class="recommendation-list">
        <view class="recommendation-item" wx:for="{{assessmentResult.final_result.recommendations}}" wx:key="index">
          {{item}}
        </view>
      </view>
    </view>

    <!-- 操作按钮 -->
    <view class="action-buttons">
      <button class="primary-btn" bindtap="reevaluate">重新测评</button>
      <button class="secondary-btn" bindtap="backToHome">返回首页</button>
    </view>
  </view>
</view>