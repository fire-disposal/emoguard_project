<!--pages/reports/list/list.wxml-->
<view class="reports-container gradient-bg">
  <view class="reports-header">
    <text class="header-title">å¥åº·æŠ¥å‘Š</text>
    <text class="header-subtitle">æŸ¥çœ‹æ‚¨çš„å¿ƒç†å¥åº·è¯„ä¼°æŠ¥å‘Š</text>
  </view>

  <view wx:if="{{loading && reports.length === 0}}" class="loading-state">
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <view wx:elif="{{reports.length === 0}}" class="empty-state">
    <text class="empty-icon">ğŸ“Š</text>
    <text class="empty-text">æš‚æ— å¥åº·æŠ¥å‘Š</text>
    <text class="empty-hint">å®Œæˆå¿ƒç†æµ‹è¯„åå¯æŸ¥çœ‹æŠ¥å‘Š</text>
  </view>

  <view wx:else class="reports-list">
    <view 
      wx:for="{{reports}}" 
      wx:key="id" 
      class="report-card card"
      data-id="{{item.id}}"
      bindtap="viewDetail"
    >
      <view class="report-header">
        <text class="report-type">{{item.report_type}}</text>
        <view class="risk-badge risk-{{item.overall_risk}}">
          {{item.overall_risk}}
        </view>
      </view>
      <text class="report-summary">{{item.summary}}</text>
      <text class="report-time">{{formatTime(item.created_at)}}</text>
    </view>

    <view wx:if="{{loading}}" class="load-more">
      <text class="load-more-text">åŠ è½½ä¸­...</text>
    </view>

    <view wx:elif="{{!hasMore}}" class="load-more">
      <text class="load-more-text">æ²¡æœ‰æ›´å¤šäº†</text>
    </view>
  </view>
</view>
