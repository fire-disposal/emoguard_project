<view class="reports-container gradient-bg">

  <!-- tabs -->
  <view class="tab-bar">
    <view class="tab {{activeTab === 0 ? 'active' : ''}}" data-tab="0" bindtap="switchTab">
      æŠ¥å‘Šå†å²
    </view>
    <view class="tab {{activeTab === 1 ? 'active' : ''}}" data-tab="1" bindtap="switchTab">
      é‡è¡¨å†å²
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading-state">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <!-- æ•°æ®åˆ—è¡¨ -->
  <view wx:if="{{showList}}">
    <view wx:if="{{activeTab === 0}}" class="reports-list">
      <view wx:for="{{reports}}" wx:key="id" class="report-card card"
        data-id="{{item.id}}" data-type="report" bindtap="viewDetail">
        <view class="report-header">
          <text class="report-type">{{item.report_type}}</text>
        </view>
        <text class="report-summary">{{item.summary}}</text>
        <text class="report-time">{{formatTime(item.created_at)}}</text>
      </view>
    </view>

    <view wx:elif="{{activeTab === 1}}" class="scales-list">
      <view wx:for="{{scales}}" wx:key="id" class="report-card card"
        data-id="{{item.id}}" data-type="scale" bindtap="viewDetail">
        <view class="report-header">
          <text class="report-type">{{item.scale_type}}</text>
        </view>
        <text class="report-summary">{{item.conclusion}}</text>
        <text class="report-time">æ—¥æœŸï¼š{{item.created_at}}</text>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view wx:if="{{showEmpty}}" class="empty-state">
    <text class="empty-icon">ğŸ“Š</text>
    <text class="empty-text">æš‚æ— å†å²è®°å½•</text>
  </view>

</view>
